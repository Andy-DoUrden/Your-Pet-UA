import{a as L,u as P,r as n,E as w,k as A,A as E,f as N,j as e}from"./index-dcf861d1.js";import{L as S}from"./Loader-b56f9e79.js";import{N as y,S as F}from"./NoMatchesFound-bfc56022.js";import{N as C,a as z}from"./noticeList.styled-daa486e1.js";import"./AllNotices.styled-09a6e0dd.js";import"./notiflix-notify-aio-8add8358.js";import"./AttentionModalWrapper-fdf34650.js";function R(){var d;const{pathname:l}=L(),h=l.split("/")[2],[p]=P(),g=Object.fromEntries(p.entries()),[i,f]=n.useState(1),[c,r]=n.useState(12);n.useEffect(()=>{const t=()=>{const s=window.innerWidth;s<=768?r(11):s<=1024?r(10):r(12)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]);const{data:a,error:m,isLoading:j}=w({category:h,params:{page:i,limit:c,...g}}),u=A(E),{data:o}=N(void 0,{skip:!u}),x=u&&((d=o==null?void 0:o.user)==null?void 0:d.favoritesArr)||[],v=(t,s)=>{f(s)};return e.jsxs(e.Fragment,{children:[j?e.jsx(S,{}):e.jsxs(e.Fragment,{children:[e.jsx(C,{children:a.notices.length>0?a.notices.map(({_id:t,...s})=>e.jsx(z,{id:t,...s,userFavoritesArr:x},t)):e.jsx(y,{})}),e.jsx(F,{count:Math.ceil(a.totalCount/c),page:i,onChange:v,color:"primary"})]}),m&&m.message]})}export{R as default};
